
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Dean Ambrose</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Dean Ambrose">
    

    
    <meta name="description" content="å¤©é“é…¬å‹¤">
<meta property="og:type" content="website">
<meta property="og:title" content="Dean Ambrose">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Dean Ambrose">
<meta property="og:description" content="å¤©é“é…¬å‹¤">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dean Ambrose">
<meta name="twitter:description" content="å¤©é“é…¬å‹¤">

    
    <link rel="alternative" href="www.baidu.com" title="Dean Ambrose" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/shicheng.png">
    
    
    <link rel="apple-touch-icon" href="/img/shicheng.png">
    <link rel="apple-touch-icon-precomposed" href="/img/shicheng.png">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/shicheng.png" alt="Dean Ambrose" title="Dean Ambrose"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Dean Ambrose">Dean Ambrose</a></h1>
				<h2 class="blog-motto">åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="æœç´¢" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/26/runloop/" title="runloop ç ”ç©¶" itemprop="url">runloop ç ”ç©¶</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Dean Ambrose" target="_blank" itemprop="author">Dean Ambrose</a>
		
  <p class="article-time">
    <time datetime="2017-03-26T11:11:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-03-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="runloopæ¦‚å¿µ"><a href="#runloopæ¦‚å¿µ" class="headerlink" title="runloopæ¦‚å¿µ"></a>runloopæ¦‚å¿µ</h2><pre><code>RunLoopæ˜¯ç³»ç»Ÿä¸­å’Œçº¿ç¨‹ç›¸å…³çš„åŸºç¡€æ¶æ„çš„ç»„æˆéƒ¨åˆ†( å’Œçº¿ç¨‹ç›¸å…³ )ï¼Œä¸€ä¸ªRunLoopæ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¯ï¼Œç³»ç»Ÿåˆ©ç”¨è¿™ä¸ªäº‹ä»¶å¤„ç†ç¯æ¥å®‰æ’äº‹åŠ¡ï¼Œåè°ƒè¾“å…¥çš„å„ç§äº‹ä»¶ã€‚å½“ä¸€ä¸ªiOSåº”ç”¨å¯åŠ¨åï¼Œå¦‚æœæˆ‘ä»¬ä¸åšä»»ä½•äº¤äº’æ“ä½œï¼Œé‚£ä¹ˆè¯¥åº”ç”¨é»˜è®¤ä¸ä¼šåšä»»ä½•å“åº”ï¼Œä¸€æ—¦æˆ‘ä»¬è§¦æ‘¸äº†å±å¹•ï¼Œæˆ–è€…ç‚¹å‡»äº†æŸä¸ªæŒ‰é’®ï¼Œç¨‹åºå°±ä¼šç«‹å³åšå‡ºç›¸åº”çš„å“åº”ï¼Œç»™æˆ‘ä»¬çš„æ“ä½œä¸€ä¸ªåé¦ˆã€‚å°±å¥½åƒè¿™ä¸ªåº”ç”¨å¤„äºä¸€ä¸ªæ—¶åˆ»å‡†å¤‡ç€çš„çŠ¶æ€ï¼Œæœ‰äº‹è¦åšçš„æ—¶å€™ï¼Œå®ƒå°±ä¼šé©¬ä¸Šåšã€‚æ²¡æœ‰äº‹è¦åšçš„æ—¶å€™ï¼Œå®ƒå°±ç­‰å¾…ä¸€æ ·ã€‚åº”ç”¨çš„è¿™ä¸€ç‚¹å…¨æ˜¯é RunLoopæœºåˆ¶æ¥å®ç°çš„ã€‚RunLoopä»å­—é¢ç†è§£å¯ä»¥æŠŠå®ƒçœ‹åšä¸€ä¸ªè¿è¡Œå¾ªç¯ï¼Œè€Œä¸”å®ƒä¼šäº‹ä»¶ç›¸å…³è”ï¼Œæ‰€æœ‰è¿™é‡Œæˆ‘ä»¬ä¹Ÿæš‚æ—¶æŠŠå®ƒå½“åšä¸€ä¸ªäº‹ä»¶è¿è¡Œå¾ªç¯ã€‚

è‹¹æœå®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªè¿™æ ·çš„è¿è¡Œå¾ªç¯å¯¹è±¡ï¼šNSRunLoop å’Œ CFRunLoopRefã€‚CFRunLoopRef æ˜¯åœ¨ CoreFoundation æ¡†æ¶å†…çš„ï¼Œå®ƒæä¾›äº†çº¯ C å‡½æ•°çš„ APIï¼Œæ‰€æœ‰è¿™äº› API éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚NSRunLoop æ˜¯åŸºäº CFRunLoopRef çš„å°è£…ï¼Œæä¾›äº†é¢å‘å¯¹è±¡çš„ APIï¼Œä½†æ˜¯è¿™äº› API ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ä¸‹é¢ç»“åˆè¿™ä¸¤ä¸ªå¯¹è±¡æ¥ä»‹ç»è¿è¡Œå¾ªç¯
</code></pre><p>RunLoopæœºåˆ¶æ˜¯ç”¨æ¥åˆ†å‘å’Œå¤„ç†äº‹ä»¶çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹RunLoopèƒ½å¤„ç†çš„äº‹ä»¶ç±»å‹ï¼šè¾“å…¥æºï¼ˆinput sourceï¼‰å’Œå®šæ—¶æºï¼ˆtimer sourceï¼‰<br>è¾“å…¥æºï¼ˆinput sourceï¼‰ï¼šä¼ é€’å¼‚æ­¥äº‹ä»¶ï¼Œæ¶ˆæ¯é€šå¸¸æ¥è‡ªäºå…¶ä»–çº¿ç¨‹ï¼Œå¤„ç†å…¶ä»–çº¿ç¨‹çš„æ¶ˆæ¯ï¼Œå¦‚ä¸‹è½½æ“ä½œæ‰§è¡Œå®Œæ¯•ï¼Œè¦å›åˆ°ä¸»çº¿ç¨‹ä¸­æ›´æ–°UIï¼Œè¿™äº›å¼‚æ­¥äº‹ä»¶å°±æ˜¯ç”±RunLoopæ¥ç›‘å¬å’Œç®¡ç†çš„ã€‚<br>å®šæ—¶æºï¼ˆtimer sourceï¼‰ï¼šä¼ é€’åŒæ­¥äº‹ä»¶ï¼Œå‘ç”Ÿåœ¨ç‰¹å®šæ—¶é—´ï¼Œæˆ–è€…æ—¶é—´é—´éš”ï¼Œå¦‚å®šæ—¶æ£€æŸ¥UIç•Œé¢ä¸Šæœ‰æ²¡æœ‰åˆ·æ–°äº‹ä»¶ã€ç‚¹å‡»äº‹ä»¶ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯å¤„ç†æœ¬çº¿ç¨‹ä¸Šçš„äº‹ä»¶ã€‚</p>
<pre><code> RunLoopåªæœ‰åœ¨ä¸€å®šçš„æ¨¡å¼ä¸‹æ‰ä¼šè¿è¡Œï¼Œå°±æ˜¯è¯´è¦æƒ³å¯åŠ¨RunLoopå°±è¦æŒ‡å®šå…¶è¿è¡Œçš„æ¨¡å¼ã€‚ç³»ç»Ÿå·²ç»æä¾›äº†RunLoopè¿è¡Œçš„5ç§æ¨¡å¼ï¼Œå¦‚ä¸‹ï¼š
NSDefaultRunLoopModeï¼šæ˜¯RunLoopé»˜è®¤çš„æ¨¡å¼ï¼Œè¡¨ç¤ºç¨‹åºç©ºé—²ã€‚å¦‚æœæˆ‘ä»¬ç”¨NSTimeræ¥æ¯ç§’æ‰“å°è¾“å‡ºçš„æ—¶å€™ï¼Œä¸€æ—¦æœ‰æ‰‹åŠ¿æ“ä½œï¼ˆå¦‚æ»‘åŠ¨ã€æ»šåŠ¨ç­‰æ“ä½œï¼‰ï¼Œé‚£ä¹ˆNSTimerå°±ä¼šåœæ­¢æ‰§è¡Œã€‚
UITrackingRunLoopModeï¼šè·Ÿè¸ªæ¨¡å¼ï¼ˆæ˜¯UIScrollViewä¸“ç”¨æ¨¡å¼ï¼‰ã€‚ä¸Šé¢æåˆ°çš„NSTimerä¾‹å­ï¼Œä¸€æ—¦æœ‰æ»šåŠ¨ç­‰æ“ä½œï¼ŒRunLoopå°±ä¼šè‡ªåŠ¨ä»NSDefaultRunLoopModeæ¨¡å¼åˆ‡æ¢åˆ°UITrackingRunLoopModeæ¨¡å¼ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†ä¿è¯æ»šåŠ¨çš„æµç•…æ€§ï¼Œç»™ç”¨æˆ·æä¾›æµç•…çš„ä½“éªŒã€‚
NSRunLoopCommonModeï¼šè¿™ç§æ¨¡å¼ä¼šåŒ…å«ä»¥ä¸Šä¸¤ç§æ¨¡å¼ã€‚æˆ‘ä»¬æ‰§è¡Œæ»‘åŠ¨æ“ä½œçš„åŒæ—¶ï¼ŒNSTimerä¼šå§‹ç»ˆè°ƒç”¨æ–¹æ³•æ¥æ‰§è¡Œæ‰“å°ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦æ‰€è°ƒç”¨çš„æ–¹æ³•ä¸­æœ‰è€—æ—¶çš„æ“ä½œæ—¶ï¼Œæ•ˆæœå°±ä¼šå¡é¡¿ã€‚æ‰€æœ‰åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸å»ºè®®ä½¿ç”¨è¯¥æ¨¡å¼ã€‚ä½†æ˜¯ï¼Œæœ‰çš„éœ€æ±‚å°±æ˜¯åˆè¦æœ‰è€—æ—¶æ“ä½œåˆè¦ä¿è¯æµç•…ã€‚è§£å†³åŠæ³•å°±æ˜¯å°†è€—æ—¶æ“ä½œæ”¾åˆ°å­çº¿ç¨‹ä¸­ï¼ˆå­çº¿ç¨‹RunLoopéœ€è¦æ‰‹åŠ¨å¯åŠ¨ï¼šCFRunLoopRun(),CFRunLoopStop(CFRunLoopCurrent())åœæ­¢å¾ªç¯ï¼‰ã€‚
UIInitializationRunLoopModeï¼šåœ¨ç¨‹åºåˆšå¯åŠ¨çš„æ—¶è¿›å…¥è¯¥æ¨¡å¼ï¼Œå¯åŠ¨å®Œå°±ä¸åœ¨ä½¿ç”¨ã€‚
GSEventReceiveRunLoopModeï¼šæ¥å—ç³»ç»Ÿäº‹ä»¶çš„å†…éƒ¨modeï¼Œé€šå¸¸ç”¨ä¸åˆ°ã€‚
</code></pre><h2 id="RunLoopæ€»ç»“ï¼š"><a href="#RunLoopæ€»ç»“ï¼š" class="headerlink" title="RunLoopæ€»ç»“ï¼š"></a>RunLoopæ€»ç»“ï¼š</h2><p>RunLoopæ˜¯iOSäº‹ä»¶å“åº”ä¸ä»»åŠ¡å¤„ç†æœ€æ ¸å¿ƒçš„æœºåˆ¶ï¼Œå®ƒè´¯ç©¿iOSæ•´ä¸ªç³»ç»Ÿã€‚<br>RunLoopæ˜¯ä¸€ç§äº‹ä»¶è¿è¡Œå¾ªç¯æœºåˆ¶ï¼Œæ˜¯ä¿æŒåº”ç”¨ç¨‹åºæŒç»­è¿è¡Œçš„ä¸€ç§æœºåˆ¶ã€‚æ­£æ˜¯ç”±äºè¯¥æœºåˆ¶çš„å­˜åœ¨ï¼Œåº”ç”¨ç¨‹åºæ‰èƒ½åœ¨æ²¡æœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™å¤„äºä¼‘çœ çŠ¶æ€ï¼Œæœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™å¤„äºå·¥ä½œçŠ¶æ€ã€‚ä»¥æ­¤æ¥èŠ‚çº¦CPUèµ„æºã€‚è¿™ä¹Ÿæ˜¯å®ƒçš„ä¸€å¤§ç‰¹ç‚¹ã€‚<br>NSRunLoopæ˜¯Cocoaæ¡†æ¶ä¸­çš„ç±»ï¼Œä¸ä¹‹å¯¹åº”çš„ï¼Œåœ¨Core Foundationä¸­æ˜¯CFRunLoopRefç±»ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯å‰è€…ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåè€…æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸”ä¸¤è€…å¯ä»¥ç›¸äº’è½¬åŒ–ã€‚<br>RunLoopå’Œçº¿ç¨‹çš„å…³ç³»ï¼š<br>RunLoopæ˜¯ç”¨æ¥ç®¡ç†çº¿ç¨‹çš„ï¼Œæ¯ä¸ªçº¿ç¨‹å¯¹åº”ä¸€ä¸ªRunLoopå¯¹è±¡ã€‚æˆ‘ä»¬ä¸å¯ä»¥å»åˆ›å»ºå½“å‰çº¿ç¨‹çš„RunLoopå¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å»è·å–å½“å‰çº¿ç¨‹çš„RunLoopã€‚RunLoopå°±æ˜¯æ¥ç›‘å¬è¯¥çº¿ç¨‹æœ‰æ— äº‹ä»¶å‘ç”Ÿï¼Œå¦‚æœæœ‰å°±å·¥ä½œï¼Œå¦‚æœæ²¡æœ‰å°±ä¼‘çœ ã€‚<br>ä¸»çº¿ç¨‹çš„RunLoopå¯¹è±¡é»˜è®¤å¼€å¯ï¼Œå…¶ä»–çº¿ç¨‹é»˜è®¤ä¸å¼€å¯ã€‚<br>RunLoopä¸AutoreleasePoolï¼›<br>RunLoopå¤„ç†çš„äº‹ä»¶ç±»å‹ï¼›<br>RunLoopçš„è¿è¡Œæ¨¡å¼modeï¼›</p>
<h2 id="ä¸»è¦åº”ç”¨åœºæ™¯"><a href="#ä¸»è¦åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸»è¦åº”ç”¨åœºæ™¯"></a>ä¸»è¦åº”ç”¨åœºæ™¯</h2><ul>
<li>RunLoopä¸NSTimerçš„ç»“åˆ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">é»˜è®¤æƒ…å†µä¸‹NSTimerè¢«åˆ›å»ºå¥½ä¹‹åï¼Œå®åœ¨DefaultModelä¸‹çš„ï¼Œæ‰€ä»¥æ‰€ä»¥å½“å‰é¡µé¢ä¸­æœ‰Scrolläº‹ä»¶æ—¶ï¼ŒTimeräº‹ä»¶å°±ä¼šè¢«é˜»å¡ï¼Œèµ·ä¸åˆ°ä»»ä½•ååº”ã€‚</div><div class="line">*è§£å†³åŠæ³•*</div><div class="line">æ›´æ”¹NSTimerè¿è¡Œçš„modelï¼ŒUITranckingRunloopModel</div><div class="line">æˆ–è€…ï¼šå°†NSTimeræ”¾åˆ°æ–°çš„çº¿ç¨‹ï¼ˆéUIï¼‰ä¸­</div><div class="line">NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(newThread) object:nil];</div><div class="line">    [thread start];</div><div class="line">- (void)newThread&#123;</div><div class="line">    @autoreleasepool&#123;</div><div class="line">        //åœ¨å½“å‰Run Loopä¸­æ·»åŠ timerï¼Œæ¨¡å¼æ˜¯é»˜è®¤çš„NSDefaultRunLoopMode</div><div class="line">        timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(incrementCounter:) userInfo: nil repeats:YES];</div><div class="line">        //å¼€å§‹æ‰§è¡Œæ–°çº¿ç¨‹çš„Run Loopï¼Œå¦‚æœä¸å¯åŠ¨run loopï¼Œtimerçš„äº‹ä»¶æ˜¯ä¸ä¼šå“åº”çš„</div><div class="line">        [[NSRunLoop currentRunLoop] run];</div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">æ€»ç»“</div><div class="line"></div><div class="line">1ã€å¦‚æœæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œtimerï¼Œæƒ³è¦timeråœ¨æŸç•Œé¢æœ‰è§†å›¾æ»šåŠ¨æ—¶ï¼Œä¾ç„¶èƒ½æ­£å¸¸è¿è½¬ï¼Œé‚£ä¹ˆå°†timeræ·»åŠ åˆ°RunLoopä¸­æ—¶ï¼Œå°±éœ€è¦è®¾ç½®mode ä¸ºNSRunLoopCommonModesã€‚</div><div class="line">2ã€å¦‚æœæ˜¯åœ¨å­çº¿ç¨‹ä¸­è¿è¡Œtimer,é‚£ä¹ˆå°†timeræ·»åŠ åˆ°RunLoopä¸­åï¼ŒModeè®¾ç½®ä¸ºNSDefaultRunLoopModeæˆ–NSRunLoopCommonModeså‡å¯ï¼Œä½†æ˜¯éœ€è¦ä¿è¯RunLoopåœ¨è¿è¡Œï¼Œä¸”å…¶ä¸­æœ‰ä»»åŠ¡ã€‚</div></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/25/runtime å®ç”¨è®²è§£/" title="runtime å‚è€ƒç»†èŠ‚" itemprop="url">runtime å‚è€ƒç»†èŠ‚</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Dean Ambrose" target="_blank" itemprop="author">Dean Ambrose</a>
		
  <p class="article-time">
    <time datetime="2017-03-25T11:11:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-03-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>å½¢åŠ¿ä¸¥å³»ï¼Œæ‰¾å·¥ä½œæœŸé—´è¿˜å¾—ç»™è‡ªå·±å……ç”µå•Šï¼ŒæŠŠä»¥å‰æ¨¡æ£±ä¸¤å¯çš„çŸ¥è¯†ç‚¹å†æ¢³ç†ä¸€éï¼ŒçŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶ï¼ŒåŠ æ²¹ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯runtime"><a href="#ä»€ä¹ˆæ˜¯runtime" class="headerlink" title="ä»€ä¹ˆæ˜¯runtime"></a>ä»€ä¹ˆæ˜¯runtime</h2><p>è¿è¡Œæ—¶ï¼Œæ˜¯ä¸€å¥—è¾ƒåº•å±‚çš„çº¯Cè¯­è¨€APIï¼Œå¹³æ—¶æˆ‘ä»¬å†™çš„OCä»£ç ï¼Œè¿è¡Œçš„æ—¶å€™éƒ½æ˜¯ä»¥runtimeè¿›è¡Œçš„ï¼Œåªä¸è¿‡æˆ‘ä»¬æ„Ÿè§‰ä¸åˆ°è€Œå·²ã€‚</p>
<h2 id="runtime-æœ‰ä»€ä¹ˆä½œç”¨"><a href="#runtime-æœ‰ä»€ä¹ˆä½œç”¨" class="headerlink" title="runtime æœ‰ä»€ä¹ˆä½œç”¨"></a>runtime æœ‰ä»€ä¹ˆä½œç”¨</h2><ol>
<li>è·å–ä¸€ä¸ªç±»å…¨éƒ¨æˆå‘˜å˜é‡åï¼ˆåŒ…æ‹¬ç§æœ‰ï¼‰ Ivas *ivars = class_copyIvarList([class] ,&amp;count);</li>
<li>è·å–ä¸€ä¸ªç±»å…¨éƒ¨å±æ€§å objc_propety_t *properties = class_copyPropertyList(class, &amp;count)</li>
<li>è·å–ä¸€ä¸ªç±»å…¨éƒ¨æ–¹æ³• Method method = class_copyMethodList(class,&amp;count)</li>
<li>è·å–ä¸€ä¸ªç±»éµå¾ªçš„æ‰€æœ‰åè®® __unsafe_unretained Protocol *protocols = class_copyProtocolList([self class], &amp;count)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">/// æè¿°ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•</div><div class="line">typedef struct objc_method *Method;</div><div class="line"></div><div class="line">/// å®ä¾‹å˜é‡</div><div class="line">typedef struct objc_ivar *Ivar;</div><div class="line"></div><div class="line">/// ç±»åˆ«Category</div><div class="line">typedef struct objc_category *Category;</div><div class="line"></div><div class="line">/// ç±»ä¸­å£°æ˜çš„å±æ€§</div><div class="line">typedef struct objc_property *objc_property_t;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">unsigned int count;</div><div class="line">    //è·å–å±æ€§åˆ—è¡¨</div><div class="line">    objc_property_t *propertyList = class_copyPropertyList([self class], &amp;count);</div><div class="line">    for (unsigned int i=0; i&lt;count; i++) &#123;</div><div class="line">        const char *propertyName = property_getName(propertyList[i]);</div><div class="line">        NSLog(@&quot;property----&gt;%@&quot;, [NSString stringWithUTF8String:propertyName]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //è·å–æ–¹æ³•åˆ—è¡¨</div><div class="line">    Method *methodList = class_copyMethodList([self class], &amp;count);</div><div class="line">    for (unsigned int i; i&lt;count; i++) &#123;</div><div class="line">        Method method = methodList[i];</div><div class="line">        NSLog(@&quot;method----&gt;%@&quot;, NSStringFromSelector(method_getName(method)));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //è·å–æˆå‘˜å˜é‡åˆ—è¡¨</div><div class="line">    Ivar *ivarList = class_copyIvarList([self class], &amp;count);</div><div class="line">    for (unsigned int i; i&lt;count; i++) &#123;</div><div class="line">        Ivar myIvar = ivarList[i];</div><div class="line">        const char *ivarName = ivar_getName(myIvar);</div><div class="line">        NSLog(@&quot;Ivar----&gt;%@&quot;, [NSString stringWithUTF8String:ivarName]);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //è·å–åè®®åˆ—è¡¨</div><div class="line">    __unsafe_unretained Protocol **protocolList = class_copyProtocolList([self class], &amp;count);</div><div class="line">    for (unsigned int i; i&lt;count; i++) &#123;</div><div class="line">        Protocol *myProtocal = protocolList[i];</div><div class="line">        const char *protocolName = protocol_getName(myProtocal);</div><div class="line">        NSLog(@&quot;protocol----&gt;%@&quot;, [NSString stringWithUTF8String:protocolName]);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="æ–¹æ³•è°ƒç”¨åœ¨è¿è¡Œæ—¶çš„è¿‡ç¨‹"><a href="#æ–¹æ³•è°ƒç”¨åœ¨è¿è¡Œæ—¶çš„è¿‡ç¨‹" class="headerlink" title="æ–¹æ³•è°ƒç”¨åœ¨è¿è¡Œæ—¶çš„è¿‡ç¨‹"></a>æ–¹æ³•è°ƒç”¨åœ¨è¿è¡Œæ—¶çš„è¿‡ç¨‹</h2><p>å¦‚æœç”¨ç¤ºä¾‹å¯¹è±¡è°ƒç”¨ç¤ºä¾‹æ–¹æ³•ï¼Œä¼šåˆ°å®ä¾‹çš„IsaæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ï¼ˆç±»å¯¹è±¡ï¼‰æ“ä½œã€‚<br>å¦‚æœç›—ç”¨çš„æ˜¯ç±»æ–¹æ³•ï¼Œå°±ä¼šåˆ°ç±»å¯¹è±¡çš„isaæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…ƒç±»å¯¹è±¡ï¼‰ä¸­å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1. é¦–å…ˆï¼Œåœ¨ç›¸åº”æ“ä½œçš„å¯¹è±¡ä¸­çš„ç¼“å­˜æ–¹æ³•åˆ—è¡¨ä¸­æ‰¾è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œè½¬å‘ç›¸åº”å®ç°å¹¶æ‰§è¡Œã€‚</div><div class="line">2. å¦‚æœæ²¡æ‰¾åˆ°ï¼Œåœ¨ç›¸åº”æ“ä½œçš„å¯¹è±¡ä¸­çš„æ–¹æ³•åˆ—è¡¨ä¸­æ‰¾è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œè½¬å‘ç›¸åº”å®ç°æ‰§è¡Œ</div><div class="line">3. å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå»çˆ¶ç±»æŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡ä¸­æ‰§è¡Œ1ï¼Œ2.</div><div class="line">4. ä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœä¸€ç›´åˆ°æ ¹ç±»è¿˜æ²¡æ‰¾åˆ°ï¼Œè½¬å‘æ‹¦æˆªè°ƒç”¨ã€‚</div><div class="line">5. å¦‚æœæ²¡æœ‰é‡å†™æ‹¦æˆªè°ƒç”¨çš„æ–¹æ³•ï¼Œç¨‹åºæŠ¥é”™ã€‚</div></pre></td></tr></table></figure>
<blockquote>
<p>é‡å†™çˆ¶ç±»æ–¹æ³•åï¼Œå¹¶æ²¡æœ‰è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Œåªæ˜¯åœ¨å½“å‰å¯¹è±¡ä¸­æ‰¾åˆ°äº†è¿™ä¸ªæ–¹æ³•åå°±ä¸ä¼šå»çˆ¶ç±»ä¸­å¯»æ‰¾<br>å¦‚æœæƒ³è°ƒç”¨å·²ç»é‡å†™è¿‡çš„æ–¹æ³•çš„çˆ¶ç±»çš„å®ç°ï¼Œåªéœ€è¦ä½¿ç”¨ superè¿™ä¸ªç¼–è¯‘å™¨æ ‡è¯†ã€‚ä»–å°±ä¼šåœ¨è¿è¡Œæ—¶è·³è¿‡å½“å¤©ç±»å¯¹è±¡å¯»æ‰¾æ–¹æ³•çš„è¿‡ç¨‹</p>
</blockquote>
<p>###æ‹¦æˆªè°ƒç”¨<br>å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•å°±ä¼šè½¬å‘æ‹¦æˆªè°ƒç”¨ã€‚æ‹¦æˆªè°ƒç”¨å°±æ˜¯åœ¨æ‰¾ä¸åˆ°è°ƒç”¨çš„æ–¹æ³•ç¨‹åºå´©æºƒä¹‹å‰ï¼Œä½ æœ‰æœºä¼šé€šè¿‡é‡å†™NSObjectçš„å››ä¸ªæ–¹æ³•å¤„ç†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+ (BOOL)resolveClassMethod:(SEL)sel; ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯å½“ä½ è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„ç±»æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé»˜è®¤è¿”å›NOï¼Œä½ å¯ä»¥åŠ ä¸Šè‡ªå·±çš„å¤„ç†ç„¶åè¿”å›YESã€‚</div><div class="line">+ (BOOL)resolveInstanceMethod:(SEL)sel; ç¬¬äºŒä¸ªæ–¹æ³•å’Œç¬¬ä¸€ä¸ªæ–¹æ³•ç›¸ä¼¼ï¼Œåªä¸è¿‡å¤„ç†çš„æ˜¯å®ä¾‹æ–¹æ³•</div><div class="line">//åä¸¤ä¸ªæ–¹æ³•éœ€è¦è½¬å‘åˆ°å…¶ä»–çš„ç±»å¤„ç†</div><div class="line">- (id)forwardingTargetForSelector:(SEL)aSelector; ç¬¬ä¸‰ä¸ªæ–¹æ³•æ˜¯å°†ä½ è°ƒç”¨çš„ä¸å­˜åœ¨çš„æ–¹æ³•é‡å®šå‘åˆ°ä¸€ä¸ªå…¶ä»–å£°æ˜äº†è¿™ä¸ªæ–¹æ³•çš„ç±»ï¼Œåªéœ€è¦ä½ è¿”å›ä¸€ä¸ªæœ‰è¿™ä¸ªæ–¹æ³•çš„targetã€‚</div><div class="line">- (void)forwardInvocation:(NSInvocation *)anInvocation; ç¬¬å››ä¸ªæ–¹æ³•æ˜¯å°†ä½ è°ƒç”¨çš„ä¸å­˜åœ¨çš„æ–¹æ³•æ‰“åŒ…æˆNSInvocationä¼ ç»™ä½ ã€‚åšå®Œä½ è‡ªå·±çš„å¤„ç†åï¼Œè°ƒç”¨invokeWithTarget:æ–¹æ³•è®©æŸä¸ªtargetè§¦å‘è¿™ä¸ªæ–¹æ³•</div></pre></td></tr></table></figure>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><ol>
<li><p>åŠ¨æ€æ·»åŠ æ–¹æ³•<br>2.å…³è”å¯¹è±¡ï¼Œåˆ†ç±»æ·»åŠ æ–°çš„æ–°çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//é¦–å…ˆå®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨å®ƒçš„åœ°å€ä½œä¸ºå…³è”å¯¹è±¡çš„key</div><div class="line">static char associatedObjectKey;</div><div class="line">//è®¾ç½®å…³è”å¯¹è±¡</div><div class="line">objc_setAssociatedObject(target, &amp;associatedObjectKey, @&quot;æ·»åŠ çš„å­—ç¬¦ä¸²å±æ€§&quot;, OBJC_ASSOCIATION_RETAIN_NONATOMIC); //è·å–å…³è”å¯¹è±¡</div><div class="line">NSString *string = objc_getAssociatedObject(target, &amp;associatedObjectKey);</div><div class="line">NSLog(@&quot;AssociatedObject = %@&quot;, string);</div></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•äº¤æ¢ æ–¹æ³•äº¤æ¢ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†ä¸¤ä¸ªæ–¹æ³•çš„å®ç°äº¤æ¢ã€‚ä¾‹å¦‚ï¼Œå°†Aæ–¹æ³•å’ŒBæ–¹æ³•äº¤æ¢ï¼Œè°ƒç”¨Aæ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡ŒBæ–¹æ³•ä¸­çš„ä»£ç ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">#import &quot;UIViewController+swizzling.h&quot;</div><div class="line">#import &lt;objc/runtime.h&gt;</div><div class="line"></div><div class="line">@implementation UIViewController (swizzling)</div><div class="line"></div><div class="line">//loadæ–¹æ³•ä¼šåœ¨ç±»ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™è¢«è°ƒç”¨</div><div class="line">//è°ƒç”¨çš„æ—¶é—´æ¯”è¾ƒé å‰ï¼Œé€‚åˆåœ¨è¿™ä¸ªæ–¹æ³•é‡Œåšæ–¹æ³•äº¤æ¢</div><div class="line">+ (void)load&#123;</div><div class="line">    //æ–¹æ³•äº¤æ¢åº”è¯¥è¢«ä¿è¯ï¼Œåœ¨ç¨‹åºä¸­åªä¼šæ‰§è¡Œä¸€æ¬¡</div><div class="line">    static dispatch_once_t onceToken;</div><div class="line">    dispatch_once(&amp;onceToken, ^&#123;</div><div class="line"></div><div class="line">        //è·å¾—viewControllerçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„selector</div><div class="line">        SEL systemSel = @selector(viewWillAppear:);</div><div class="line">        //è‡ªå·±å®ç°çš„å°†è¦è¢«äº¤æ¢çš„æ–¹æ³•çš„selector</div><div class="line">        SEL swizzSel = @selector(swiz_viewWillAppear:);</div><div class="line">        //ä¸¤ä¸ªæ–¹æ³•çš„Method</div><div class="line">        Method systemMethod = class_getInstanceMethod([self class], systemSel);</div><div class="line">        Method swizzMethod = class_getInstanceMethod([self class], swizzSel);</div><div class="line"></div><div class="line">        //é¦–å…ˆåŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œå®ç°æ˜¯è¢«äº¤æ¢çš„æ–¹æ³•ï¼Œè¿”å›å€¼è¡¨ç¤ºæ·»åŠ æˆåŠŸè¿˜æ˜¯å¤±è´¥</div><div class="line">        BOOL isAdd = class_addMethod(self, systemSel, method_getImplementation(swizzMethod), method_getTypeEncoding(swizzMethod));</div><div class="line">        if (isAdd) &#123;</div><div class="line">            //å¦‚æœæˆåŠŸï¼Œè¯´æ˜ç±»ä¸­ä¸å­˜åœ¨è¿™ä¸ªæ–¹æ³•çš„å®ç°</div><div class="line">            //å°†è¢«äº¤æ¢æ–¹æ³•çš„å®ç°æ›¿æ¢åˆ°è¿™ä¸ªå¹¶ä¸å­˜åœ¨çš„å®ç°</div><div class="line">            class_replaceMethod(self, swizzSel, method_getImplementation(systemMethod), method_getTypeEncoding(systemMethod));</div><div class="line">        &#125;else&#123;</div><div class="line">            //å¦åˆ™ï¼Œäº¤æ¢ä¸¤ä¸ªæ–¹æ³•çš„å®ç°</div><div class="line">            method_exchangeImplementations(systemMethod, swizzMethod);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)swiz_viewWillAppear:(BOOL)animated&#123;</div><div class="line">    //è¿™æ—¶å€™è°ƒç”¨è‡ªå·±ï¼Œçœ‹èµ·æ¥åƒæ˜¯æ­»å¾ªç¯</div><div class="line">    //ä½†æ˜¯å…¶å®è‡ªå·±çš„å®ç°å·²ç»è¢«æ›¿æ¢äº†</div><div class="line">    [self swiz_viewWillAppear:animated];</div><div class="line">    NSLog(@&quot;swizzle&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
</li>
</ol>
<p>4.ç»™å¯¹è±¡æ·»åŠ å…³è”å¯¹è±¡<br>æ¯”å¦‚alertView,ä¸€èˆ¬ä¼ å€¼ï¼Œä½¿ç”¨çš„æ˜¯alertViewçš„tagå±æ€§ã€‚æˆ‘ä»¬æƒ³æŠŠæ›´å¤šçš„å‚æ•°ä¼ ç»™alertViewä»£ç†ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">- (void)shopCartCell:(BSShopCartCell *)shopCartCell didDeleteClickedAtRecId:(NSString *)recId</div><div class="line">&#123;</div><div class="line">    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;&quot; message:@&quot;ç¡®è®¤è¦åˆ é™¤è¿™ä¸ªå®è´&quot; delegate:self cancelButtonTitle:@&quot;å–æ¶ˆ&quot; otherButtonTitles:@&quot;ç¡®å®š&quot;, nil];</div><div class="line">    </div><div class="line">    // ä¼ é€’å¤šå‚æ•°</div><div class="line">    objc_setAssociatedObject(alert, &quot;suppliers_id&quot;, @&quot;1&quot;, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</div><div class="line">    objc_setAssociatedObject(alert, &quot;warehouse_id&quot;, @&quot;2&quot;, OBJC_ASSOCIATION_RETAIN_NONATOMIC);</div><div class="line">    </div><div class="line">    alert.tag = [recId intValue];</div><div class="line">    [alert show];</div><div class="line">&#125;</div><div class="line"></div><div class="line">/**</div><div class="line"> *  ç¡®å®šåˆ é™¤æ“ä½œ</div><div class="line"> */</div><div class="line">- (void)alertView:(UIAlertView *)alertView clickedButtonAtIndex:(NSInteger)buttonIndex &#123;</div><div class="line">    if (buttonIndex == 1) &#123;</div><div class="line">        </div><div class="line">        NSString *warehouse_id = objc_getAssociatedObject(alertView, &quot;warehouse_id&quot;);</div><div class="line">        NSString *suppliers_id = objc_getAssociatedObject(alertView, &quot;suppliers_id&quot;);</div><div class="line">        NSString *recId = [NSString stringWithFormat:@&quot;%ld&quot;,(long)alertView.tag];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">objc_setAssociatedObjectæ–¹æ³•çš„å‚æ•°è§£é‡Š:</div><div class="line"></div><div class="line">ç¬¬ä¸€ä¸ªå‚æ•°id object, å½“å‰å¯¹è±¡</div><div class="line">ç¬¬äºŒä¸ªå‚æ•°const void *key, å…³è”çš„keyï¼Œæ˜¯cå­—ç¬¦ä¸² </div><div class="line">ç¬¬ä¸‰ä¸ªå‚æ•°id value, è¢«å…³è”çš„å¯¹è±¡çš„å€¼ </div><div class="line">ç¬¬å››ä¸ªå‚æ•°objc_AssociationPolicy policyå…³è”å¼•ç”¨çš„è§„åˆ™</div></pre></td></tr></table></figure></p>
<p>åŠ¨æ€æ·»åŠ æ–¹æ³•<br>å¼€å‘ä½¿ç”¨åœºæ™¯ï¼šå¦‚æœä¸€ä¸ªç±»æ–¹æ³•éå¸¸å¤šï¼ŒåŠ è½½ç±»åˆ°å†…å­˜çš„æ—¶å€™ä¹Ÿæ¯”è¾ƒè€—è´¹èµ„æºï¼Œéœ€è¦ç»™æ¯ä¸ªæ–¹æ³•ç”Ÿæˆæ˜ å°„è¡¨ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€ç»™æŸä¸ªç±»ï¼Œæ·»åŠ æ–¹æ³•è§£å†³ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"> Person *p = [[Person alloc] init];</div><div class="line"></div><div class="line">    // é»˜è®¤personï¼Œæ²¡æœ‰å®ç°eatæ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡performSelectorè°ƒç”¨ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ã€‚</div><div class="line">    // åŠ¨æ€æ·»åŠ æ–¹æ³•å°±ä¸ä¼šæŠ¥é”™</div><div class="line">    [p performSelector:@selector(eat)];</div><div class="line">    </div><div class="line">    // é»˜è®¤æ–¹æ³•éƒ½æœ‰ä¸¤ä¸ªéšå¼å‚æ•°ï¼Œ</div><div class="line">void eat(id self,SEL sel)</div><div class="line">&#123;</div><div class="line">       NSLog(@&quot;%@ %@&quot;,self,NSStringFromSelector(sel));</div><div class="line">&#125;</div><div class="line"></div><div class="line">// å½“ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æœªå®ç°çš„æ–¹æ³•ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•å¤„ç†,å¹¶ä¸”ä¼šæŠŠå¯¹åº”çš„æ–¹æ³•åˆ—è¡¨ä¼ è¿‡æ¥.</div><div class="line">// åˆšå¥½å¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼Œæœªå®ç°çš„æ–¹æ³•æ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦åŠ¨æ€æ·»åŠ çš„æ–¹æ³•</div><div class="line">+ (BOOL)resolveInstanceMethod:(SEL)sel</div><div class="line">&#123;</div><div class="line">    if (sel == @selector(eat)) &#123;</div><div class="line">        // åŠ¨æ€æ·»åŠ eatæ–¹æ³•</div><div class="line"></div><div class="line">        // ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»™å“ªä¸ªç±»æ·»åŠ æ–¹æ³•</div><div class="line">        // ç¬¬äºŒä¸ªå‚æ•°ï¼šæ·»åŠ æ–¹æ³•çš„æ–¹æ³•ç¼–å·</div><div class="line">        // ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ·»åŠ æ–¹æ³•çš„å‡½æ•°å®ç°ï¼ˆå‡½æ•°åœ°å€ï¼‰</div><div class="line">        // ç¬¬å››ä¸ªå‚æ•°ï¼šå‡½æ•°çš„ç±»å‹ï¼Œ(è¿”å›å€¼+å‚æ•°ç±»å‹) v:void @:å¯¹è±¡-&gt;self :è¡¨ç¤ºSEL-&gt;_cmd</div><div class="line">        class_addMethod(self, @selector(eat), eat, &quot;v@:&quot;);</div><div class="line">    &#125;</div><div class="line">    return [super resolveInstanceMethod:sel];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/21/ç»‘å®šåŸŸå/" title="github pages ç»‘å®šä¸€çº§äºŒçº§åŸŸå" itemprop="url">github pages ç»‘å®šä¸€çº§äºŒçº§åŸŸå</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Dean Ambrose" target="_blank" itemprop="author">Dean Ambrose</a>
		
  <p class="article-time">
    <time datetime="2017-03-21T11:11:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-03-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>æ‹¿æˆ‘è‡ªå·±çš„æ¥è¯´ devshicheng.com ç®—æ˜¯ä¸€çº§åŸŸå<br>            www.devshicheng.com ç®—æ˜¯ğŸ§åŸŸå</p>
<h4 id="ä¸€çº§åŸŸå"><a href="#ä¸€çº§åŸŸå" class="headerlink" title="ä¸€çº§åŸŸå"></a>ä¸€çº§åŸŸå</h4><ol>
<li>å¦‚æœä½ ç”¨hexoæ­å»ºçš„åšå®¢ï¼Œéœ€è¦åœ¨æœ¬åœ°sourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªCNAMEï¼ˆå»æ‰åç¼€ï¼‰ï¼Œé‡Œè¾¹è¾“å…¥ä½ çš„ä¸€çº§åŸŸåï¼Œç„¶ååŒæ­¥åˆ°ä½ çš„githubpagesä¸Šï¼Œ</li>
<li>å»ä½ çš„åŸŸå è§£æè®¾ç½® æ·»åŠ è§£æ ç±»å‹CNAME  è®°å½•å€¼å¡«å†™ä½ çš„ mybigorange.github.io. (æœ€åç‚¹ä¸è¦çœç•¥)</li>
</ol>
<h4 id="äºŒçº§åŸŸå"><a href="#äºŒçº§åŸŸå" class="headerlink" title="äºŒçº§åŸŸå"></a>äºŒçº§åŸŸå</h4><ol>
<li>åŒä¸€çº§åŸŸå</li>
<li>æ–°å»ºæ–°çš„è§£æã€‚ç±»å‹ä¸ºA  ä¸»æœºè®°å½•@ è®°å½•å€¼ipï¼ˆpingä½ çš„ä»“åº“å»æ‰¾ä½ çš„ä»“åº“æœåŠ¡å™¨ï¼‰</li>
</ol>
<blockquote>
<p>ä»¥ä¸Šæ–¹æ³•äº²æµ‹å¯ç”¨ï¼ˆè®¾ç½®å¥½åéœ€è¦ç­‰ä¸€ä¼šæ‰å¯ä»¥è®¿é—®ï¼‰ã€‚</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/03/20/mwebåº”ç”¨è¯´æ˜/" title="mwebåº”ç”¨" itemprop="url">mwebåº”ç”¨</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Dean Ambrose" target="_blank" itemprop="author">Dean Ambrose</a>
		
  <p class="article-time">
    <time datetime="2017-03-20T15:34:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-03-20</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Markdown-syntax-guide-and-writing-on-MWeb"><a href="#Markdown-syntax-guide-and-writing-on-MWeb" class="headerlink" title="Markdown syntax guide and writing on MWeb"></a>Markdown syntax guide and writing on MWeb</h1><h1 id="markdown-title"><a href="#markdown-title" class="headerlink" title="markdown title"></a>markdown title</h1><h2 id="markdown-subtitle"><a href="#markdown-subtitle" class="headerlink" title="markdown subtitle"></a>markdown subtitle</h2><h2 id="Philosophy"><a href="#Philosophy" class="headerlink" title="Philosophy"></a>Philosophy</h2><blockquote>
<p>Markdown is intended to be as easy-to-read and easy-to-write as is feasible.<br>Readability, however, is emphasized above all else. A Markdown-formatted document should be publishable as-is, as plain text, without looking like itâ€™s been marked up with tags or formatting instructions.<br>Markdownâ€™s syntax is intended for one purpose: to be used as a format for <em>writing</em> for the web.</p>
<p>â€œ&gt;â€is what ?__</p>
</blockquote>
        
        
        <p class="article-more-link">
          
            <a href="/2017/03/20/mwebåº”ç”¨è¯´æ˜/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/01/15/Hexoå‘å¸ƒæ–‡ç« /" title="Hello World" itemprop="url">Hello World</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Dean Ambrose" target="_blank" itemprop="author">Dean Ambrose</a>
		
  <p class="article-time">
    <time datetime="2017-01-15T15:34:07.000Z" itemprop="datePublished"> å‘è¡¨äº 2017-01-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







</div>
      <div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="éšè—ä¾§è¾¹æ "></a></div>
<aside class="clearfix">

  


  

  

  <div class="linkslist">
  <p class="asidetitle">å‹æƒ…é“¾æ¥</p>
    <ul>
        
          <li>
            
            	<a href="http://www.jianshu.com" target="_blank" title="ç®€ä¹¦">ç®€ä¹¦</a>
            
          </li>
        
          <li>
            
            	<a href="www://guthub.com" target="_blank" title="GitHub">GitHub</a>
            
          </li>
        
          <li>
            
            	<a href="www://cocoachina.com" target="_blank" title="cocoachina">cocoachina</a>
            
          </li>
        
          <li>
            
            	<a href="http://mybigorange.github.io" target="_blank" title="Ambrose&#39;s Blog">Ambrose&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="www.baidu.com" target="_blank" title="rss">RSS è®¢é˜…</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">æ–°æµªå¾®åš</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Dean Ambrose Page in Github. <br/>
			Welcome to my bog.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/5767005756" target="_blank" class="icon-weibo" title="å¾®åš"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> Â© 2017 
		
		<a href="/about" target="_blank" title="Dean Ambrose">Dean Ambrose</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="è¿”å›é¡¶éƒ¨"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
